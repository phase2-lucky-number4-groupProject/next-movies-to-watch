# Next Movies To Watch App Server
Next Movies To Watch App is an application to recommend what movies to watch based on the weather. This app has : 
* RESTful endpoint for 3rd party API requests
* JSON formatted response

&nbsp;

## RESTful endpoints

### POST /users/register

> Register new user

_Request Header_
```
not needed
```

_Request Body_
```
{
  "email": "string",
  "password": "string"
}
```

_Response (201)_
```
{
  "msg": "Registration Success!",
  "id": <given id automatically generated by system>,
  "email": "string"
}
```

_Response (400 - Bad Request)_
```
{
  "message": <various error message based on validation results>
}
```

---

### POST /users/login

> Login existing user

_Request Header_
```
not needed
```

_Request Body_
```
{
  "email": "string",
  "password": "string"
}
```

_Response (200)_
```
{
  "token": "string"
}
```

_Response (400 - Bad Request)_
```
{
  "message": <various error message based on validation results> | 'Invalid email or password'
}
```

---

### POST /users/googleSign

> Login existing user with their Google Account

_Request Header_
```
not needed
```

_Request Body_
```
{
    email: 'string',
    password: 'movie-app'
}
```

_Response (200)_
```
{
  "token": "string"
}
```

---

### GET /movies/

> Showing random movies

_Request Header_
```
{
  "token": <generated token>
}
```

_URL Params_
```
not needed
```

_API URL Params_
```
api_key=[STRING],
language=[STRING],
sort_by=[STRING],
include_adult=[BOOLEAN],
include_video=[BOOLEAN],
primary_release_year=[NUMBER],
with_genres=[NUMBER],
page=[NUMBER]
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    movieList: 
    [
        {
            id: "number",
            title: "string",
            image: "string",
            rating: "number",
            description: "string",
            genre: "number"
        },
        ...
    ]
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "Internal Server Error"
}
```

---

### GET /movies/:genre

> Showing movies by genre

_Request Header_
```
{
  "token": <generated token>
}
```

_URL Params_
```
genre=[STRING]
```

_API URL Params_
```
api_key=[STRING],
language=[STRING],
sort_by=[STRING],
include_adult=[BOOLEAN],
include_video=[BOOLEAN],
primary_release_year=[NUMBER],
with_genres=[NUMBER],
page=[NUMBER]
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    movieList: 
    [
        {
            id: "number",
            title: "string",
            image: "string",
            rating: "number",
            description: "string",
            genre: "number"
        },
        ...
    ]
}
```

_Response (404 - Not Found)_
```
{
  "message": "Movie Not Found!"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "Internal Server Error"
}
```

---

### POST /movies/

> Search movies by its genre

_Request Header_
```
{
  "token": <generated token>
}
```

_URL Params_
```
genre=[STRING]
```

_API URL Params_
```
api_key=[STRING],
language=[STRING],
sort_by=[STRING],
include_adult=[BOOLEAN],
include_video=[BOOLEAN],
primary_release_year=[NUMBER],
with_genres=[NUMBER],
page=[NUMBER]
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    movieList: 
    [
        {
            id: "number",
            title: "string",
            image: "string",
            rating: "number",
            description: "string",
            genre: "number"
        },
        ...
    ]
}
```

_Response (404 - Not Found)_
```
{
  "message": "Movie Not Found!"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "Internal Server Error"
}
```

---

### GET /weather/

> Get weather today based on favored location

_Request Header_
```
{
  "token": <generated token>
}
```

_URL Params_
```
not needed
```

_API URL Params_
```
q=[STRING] - location,
appid=[STRING] - apikey
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    coord: {
        lon: "number",
        lat: "number"
    },
    weather: [
        {
            id: "number",
            main: "Rain",
            description: "moderate rain",
            icon: "string"
        }
    ],
    base: "stations",
    main: {
        temp: "number",
        feels_like: "number",
        temp_min: "number",
        temp_max: "number",
        pressure: "number",
        humidity: "number"
    },
    visibility: "number",
    wind: {
        speed: "number",
        deg: "number"
    },
    clouds: {
        all: "number"
    },
    dt: "number",
    sys: {
        type: "number",
        id: "number",
        country: <generated location ID>,
        sunrise: "number",
        sunset: "number"
    },
    timezone: "number",
    id: "number",
    name: "string",
    cod: "number"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "Internal Server Error"
}
```

---

### GET /quote/

> Get random quote

_Request Header_
```
{
  "token": <generated token>
}
```

_URL Params_
```
not needed
```

_API URL Params_
```
page=[NUMBER]
limit=[NUMBER]
```

_Request Body_
```
not needed
```

_Response (200)_
```
{
    quotes: 
    [
        {
            id: "number",
            quote: "string",
            author: "string"
        }
    ]
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "Internal Server Error"
}
```
